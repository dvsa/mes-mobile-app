<ion-header>
  <ion-navbar>
    <ion-title>Test debrief - {{pageState.candidateUntitledName$ | async}}</ion-title>
  </ion-navbar>
</ion-header>

<ion-content no-bounce>
  <div>
    <form [formGroup]="form" (ngSubmit)="onSubmit()">
      <ion-grid>

        <ion-row class="mes-component-row mes-row-separator" id="candidate-section" align-items-center>
          <ion-col class="component-label">
            <h2 id="candidate-name">{{pageState.candidateName$ | async}}</h2>
            <h3 id="candidate-driver-number">{{pageState.candidateDriverNumber$ | async}}</h3>
          </ion-col>
        </ion-row>

        <ion-row class="mes-component-row mes-row-separator" id="application-reference-card" align-items-center>
          <ion-col class="component-label" col-36>
            <label>Application reference</label>
          </ion-col>
          <ion-col>
            <span class="mes-data">{{pageState.applicationNumber$ | async }}</span>
          </ion-col>
        </ion-row>

        <ion-row class="mes-validated-row mes-row-separator" id="provisional-license-card">
          <div class="validation-bar" [class.ng-invalid]="isCtrlDirtyAndInvalid('provisionalLicenseProvidedCtrl')"></div>
            <ion-col class="component-label" col-36 align-self-center>
            <label>Provisional license received</label>
          </ion-col>
          <ion-col align-self-center>
            <ion-row class="spacing-row"></ion-row>
            <ion-row>
              <ion-col col-23>
                <input formControlName="provisionalLicenseProvidedCtrl" type="radio" id="license-received" value="yes" [checked]="pageState.provisionalLicenseProvidedRadioChecked$ | async" class="gds-radio-button" (click)="provisionalLicenseReceived()">
                <label for="license-received" class="radio-label">Yes</label>
              </ion-col>
              <ion-col>
                <input formControlName="provisionalLicenseProvidedCtrl" type="radio" id="license-not-received" value="no" [checked]="pageState.provisionalLicenseNotProvidedRadioChecked$ | async" class="gds-radio-button" (click)="provisionalLicenseNotReceived()">
                <label for="license-not-received" class="radio-label">No</label>
              </ion-col>
            </ion-row>
            <ion-row class="validation-message-row" align-items-center>
              <div class="validation-text" [class.ng-invalid]="isCtrlDirtyAndInvalid('provisionalLicenseProvidedCtrl')">
                Select a response
              </div>
            </ion-row>
          </ion-col>
        </ion-row>

        <ion-row class="mes-validated-row mes-row-separator" id="provisional-license-card">
          <div class="validation-bar" [class.ng-invalid]="isCtrlDirtyAndInvalid('passCertificateNumberCtrl')"></div>
          <ion-col class="component-label" col-36 align-self-center>
            <label>Pass certificate number</label>
          </ion-col>
          <ion-col align-self-center>
            <ion-row class="spacing-row"></ion-row>
            <ion-row>
              <ion-col>
                <input #passCertificateNumberInput formControlName="passCertificateNumberCtrl" [class.ng-invalid]="isCtrlDirtyAndInvalid('passCertificateNumberCtrl')" type="text" value="{{pageState.passCertificateNumber$ | async}}" id="pass-certificate-number" class="pass-cert-input" >
              </ion-col>
            </ion-row>
            <ion-row class="validation-message-row" align-items-center>
              <div class="validation-text" [class.ng-invalid]="isCtrlDirtyAndInvalid('passCertificateNumberCtrl')">
                Enter a certificate number
              </div>
            </ion-row>
          </ion-col>
        </ion-row>

      </ion-grid>
      <ion-footer>
        <ion-row class="mes-full-width-card mes-row-separator">
          <button type="submit" class="mes-primary-button" ion-button>
            <h3>Continue</h3>
          </button>
        </ion-row>
      </ion-footer>
    </form>
  </div>
</ion-content>
