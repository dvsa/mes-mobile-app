<button #competencyButton (click)="togglePopoverDisplay()" [class.promoted]="displayPopover"
  [ngClass]="{
    'fault': drivingFaults > 0,
    'serious-fault': hasSeriousFault,
    'dangerous-fault': hasDangerousFault
  }">
  <div class="tickwrapper">
    <tick-indicator [ticked]="completed"></tick-indicator>
  </div>

  <driving-faults-badge class="driving-faults" [count]="drivingFaults"></driving-faults-badge>

  <div class="label-wrapper">
    <ion-icon class="popover-arrow" [class.arrow-down]="displayPopover" name="md-arrow-dropright"></ion-icon>
    <span class='label'>{{controlLabel}}</span>
  </div>

  <div class="fault-wrapper">
    <serious-fault-badge [showBadge]="hasSeriousFault"></serious-fault-badge>
    <dangerous-fault-badge [showBadge]="hasDangerousFault"></dangerous-fault-badge>
  </div>
</button>
<div class="popover" *ngIf="displayPopover">
  <ion-grid no-padding>
    <ion-row>
      <ion-col>
        <ng-content></ng-content>
      </ion-col>
    </ion-row>
    <div class="man-report-overlay man-report-overlay-remove" [class.man-show-overlay]="isRemoveFaultMode$ | async"
         [class.man-hide-overlay]="!isRemoveFaultMode$"></div>
  </ion-grid>
</div>

<!--<div class="report-overlay report-overlay-remove" [class.contract]="isSeriousMode || isDangerousMode" [class.show-overlay]="isRemoveFaultMode"-->
<!--     [class.hide-overlay]="!isRemoveFaultMode"></div>-->
